(function(e){e.fn.instantfollowbtn=function(t){var n=e(this);var r=t.accessToken;var i=t.clientID;var s=t.userID;var o=t.primaryText;var u=t.secondaryText;var a="";var f="";var l={accessToken:"",clientID:"",primaryText:"",secondaryText:"",userID:"25025320"};var t=e.extend(l,t);n.addClass("ig-btn").html("<span class='btn'></span><span class='secondary'></span>");e.ajax({type:"GET",dataType:"jsonp",url:"https://api.instagram.com/v1/users/"+s+"/?access_token="+r,success:function(r){function a(e){e+="";var t=e.split(".");var n=t[0];var r=t.length>1?"."+t[1]:"";var i=/(\d+)(\d{3})/;while(i.test(n)){n=n.replace(i,"$1"+","+"$2")}return n+r}var i=r.data.full_name;f=r.data.username;var s=r.data.counts.follows;var u=r.data.counts.followed_by;n.find(".btn").text(o);e(".secondary").show();var l="";if(t.primaryText=="#user#"||t.primaryText===null||t.primaryText==""){l="Follow "+f}if(t.primaryText!=="#user#"&&t.primaryText!==""){l=t.primaryText}e(".btn").text(l);var c=0;if(t.secondaryText=="#followers#"||t.secondaryText===null||t.secondaryText==""){c=a(u)}if(t.secondaryText=="#following#"){c=a(s)}if(t.secondaryText!=="#followers#"&&t.secondaryText!=="#following#"&&t.secondaryText!==""){c=t.secondaryText}e(".secondary").text(c)}});return this.each(function(){e(this).click(function(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};if(e.any()||e.any()==true){var t=confirm("Would you like to go to the Instagram app?");if(t||t==true){a="instagram://user?username="+f}else{var r=confirm("Would you like to go to the Instagram mobile website?");if(r||r==true){a="http://instagram.com/"+f}else{return false}}}else{a="http://instagram.com/"+f}n.attr("href",a)})})}})(jQuery)
